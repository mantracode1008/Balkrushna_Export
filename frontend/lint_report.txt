
> frontend@0.0.0 lint
> eslint .


/Users/rajponkiya/Mantracode diamond/frontend/src/components/ClientSelect.jsx
  32:8  warning  React Hook useEffect has a missing dependency: 'query'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

/Users/rajponkiya/Mantracode diamond/frontend/src/components/DiamondForm.jsx
  172:26  error    'err' is defined but never used                                                                              no-unused-vars
  179:8   warning  React Hook useEffect has a missing dependency: 'formData'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
  219:23  error    'clarityCode' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u                  no-unused-vars

/Users/rajponkiya/Mantracode diamond/frontend/src/components/MainLayout.jsx
   3:19  error  'children' is defined but never used                                                         no-unused-vars
  22:13  error  'theme' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u        no-unused-vars
  22:20  error  'toggleTheme' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

/Users/rajponkiya/Mantracode diamond/frontend/src/context/CartContext.jsx
  41:14  error  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components  react-refresh/only-export-components

/Users/rajponkiya/Mantracode diamond/frontend/src/context/ThemeContext.jsx
   1:55  error  'useState' is defined but never used. Allowed unused vars must match /^[A-Z_]/u                                                 no-unused-vars
  26:14  error  Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components  react-refresh/only-export-components

/Users/rajponkiya/Mantracode diamond/frontend/src/pages/Dashboard.jsx
  46:13  error    Error: Cannot access variable before it is declared

`fetchStaff` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  44 |     useEffect(() => {
  45 |         if (isAdmin) {
> 46 |             fetchStaff();
     |             ^^^^^^^^^^ `fetchStaff` accessed before it is declared
  47 |         }
  48 |         loadData();
  49 |     }, [selectedStaffId]); // Reload when filter changes

  49 |     }, [selectedStaffId]); // Reload when filter changes
  50 |
> 51 |     const fetchStaff = async () => {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 52 |         try {
     | ^^^^^^^^^^^^^
> 53 |             const res = await authService.getAllStaff();
     | ^^^^^^^^^^^^^
> 54 |             setStaffList(res);
     | ^^^^^^^^^^^^^
> 55 |         } catch (err) {
     | ^^^^^^^^^^^^^
> 56 |             console.error("Failed to fetch staff list", err);
     | ^^^^^^^^^^^^^
> 57 |         }
     | ^^^^^^^^^^^^^
> 58 |     };
     | ^^^^^^^ `fetchStaff` is declared here
  59 |
  60 |     const loadData = async () => {
  61 |         try {  react-hooks/immutability
  48:9   error    Error: Cannot access variable before it is declared

`loadData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  46 |             fetchStaff();
  47 |         }
> 48 |         loadData();
     |         ^^^^^^^^ `loadData` accessed before it is declared
  49 |     }, [selectedStaffId]); // Reload when filter changes
  50 |
  51 |     const fetchStaff = async () => {

  58 |     };
  59 |
> 60 |     const loadData = async () => {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 61 |         try {
     | ^^^^^^^^^^^^^
> 62 |             // Pass staffId filter if selected (Admin only)
     …
     | ^^^^^^^^^^^^^
> 73 |         }
     | ^^^^^^^^^^^^^
> 74 |     };
     | ^^^^^^^ `loadData` is declared here
  75 |
  76 |     const prepareShapeChart = (data) => {
  77 |         if (!data || data.length === 0) { setShapeData(null); return; }                                                                                                                                                                                                          react-hooks/immutability
  49:8   warning  React Hook useEffect has missing dependencies: 'isAdmin' and 'loadData'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                react-hooks/exhaustive-deps

/Users/rajponkiya/Mantracode diamond/frontend/src/pages/Inventory.jsx
   6:10  error    'useCart' is defined but never used. Allowed unused vars must match /^[A-Z_]/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               no-unused-vars
  10:27  error    'onClose' is defined but never used                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          no-unused-vars
  48:11  error    'showToast' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    no-unused-vars
  58:22  error    Error: Cannot access variable before it is declared

`fetchStaff` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  56 |
  57 |     useEffect(() => {
> 58 |         if (isAdmin) fetchStaff();
     |                      ^^^^^^^^^^ `fetchStaff` accessed before it is declared
  59 |     }, []);
  60 |
  61 |     useEffect(() => { fetchDiamonds(); }, [statusFilter, shapeFilter, clarityFilter, colorFilter, selectedStaffId]);

  61 |     useEffect(() => { fetchDiamonds(); }, [statusFilter, shapeFilter, clarityFilter, colorFilter, selectedStaffId]);
  62 |
> 63 |     const fetchStaff = async () => {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 64 |         try {
     | ^^^^^^^^^^^^^
> 65 |             const res = await authService.getAllStaff();
     | ^^^^^^^^^^^^^
> 66 |             setStaffList(res);
     | ^^^^^^^^^^^^^
> 67 |         } catch (err) {
     | ^^^^^^^^^^^^^
> 68 |             console.error("Failed to fetch staff list", err);
     | ^^^^^^^^^^^^^
> 69 |         }
     | ^^^^^^^^^^^^^
> 70 |     };
     | ^^^^^^^ `fetchStaff` is declared here
  71 |
  72 |     const fetchDiamonds = async () => {
  73 |         setLoading(true);  react-hooks/immutability
  59:8   warning  React Hook useEffect has a missing dependency: 'isAdmin'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   react-hooks/exhaustive-deps
  61:23  error    Error: Cannot access variable before it is declared

`fetchDiamonds` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  59 |     }, []);
  60 |
> 61 |     useEffect(() => { fetchDiamonds(); }, [statusFilter, shapeFilter, clarityFilter, colorFilter, selectedStaffId]);
     |                       ^^^^^^^^^^^^^ `fetchDiamonds` accessed before it is declared
  62 |
  63 |     const fetchStaff = async () => {
  64 |         try {

  70 |     };
  71 |
> 72 |     const fetchDiamonds = async () => {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 73 |         setLoading(true);
     | ^^^^^^^^^^^^^^^^^^^^^^^^^
> 74 |         try {
     …
     | ^^^^^^^^^^^^^^^^^^^^^^^^^
> 90 |         setLoading(false);
     | ^^^^^^^^^^^^^^^^^^^^^^^^^
> 91 |     };
     | ^^^^^^^ `fetchDiamonds` is declared here
  92 |
  93 |     const handleEdit = (diamond) => { setSelectedDiamond(diamond); setShowAddModal(true); };
  94 |                                                                                                                                                                                                                                                    react-hooks/immutability
  61:43  warning  React Hook useEffect has a missing dependency: 'fetchDiamonds'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             react-hooks/exhaustive-deps

/Users/rajponkiya/Mantracode diamond/frontend/src/pages/InvoiceForm.jsx
   1:27  error  'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u               no-unused-vars
   9:11  error  'location' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u       no-unused-vars
  19:12  error  'searchLoading' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars

/Users/rajponkiya/Mantracode diamond/frontend/src/pages/Invoices.jsx
  13:9  error  Error: Cannot access variable before it is declared

`loadInvoices` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  11 |
  12 |     useEffect(() => {
> 13 |         loadInvoices();
     |         ^^^^^^^^^^^^ `loadInvoices` accessed before it is declared
  14 |     }, []);
  15 |
  16 |     const loadInvoices = async () => {

  14 |     }, []);
  15 |
> 16 |     const loadInvoices = async () => {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 17 |         try {
     | ^^^^^^^^^^^^^
> 18 |             const res = await invoiceService.getAll();
     | ^^^^^^^^^^^^^
> 19 |             setInvoices(res.data);
     | ^^^^^^^^^^^^^
> 20 |         } catch (err) {
     | ^^^^^^^^^^^^^
> 21 |             console.error("Failed to load invoices", err);
     | ^^^^^^^^^^^^^
> 22 |         }
     | ^^^^^^^^^^^^^
> 23 |     };
     | ^^^^^^^ `loadInvoices` is declared here
  24 |
  25 |     const filteredInvoices = invoices.filter(inv => {
  26 |         const matchesCustomer = inv.customer_name.toLowerCase().includes(customerSearch.toLowerCase());  react-hooks/immutability

/Users/rajponkiya/Mantracode diamond/frontend/src/pages/Login.jsx
   1:1   error  Definition for rule 'react/prop-types' was not found                                           react/prop-types
   3:10  error  'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u                  no-unused-vars
  21:12  error  'isLocked' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u       no-unused-vars
  24:18  error  'setMode' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u        no-unused-vars
  25:12  error  'adminPass' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u      no-unused-vars
  25:23  error  'setAdminPass' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u   no-unused-vars
  26:12  error  'resetToken' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u     no-unused-vars
  26:24  error  'setResetToken' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u  no-unused-vars
  85:17  error  'confirmReset' is not defined                                                                  no-undef

/Users/rajponkiya/Mantracode diamond/frontend/src/pages/Order.jsx
  68:13  error    Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

  66 |                 };
  67 |             });
> 68 |             setOrderItems(items);
     |             ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  69 |         }
  70 |     }, [cartItems]);
  71 |  react-hooks/set-state-in-effect
  70:8   warning  React Hook useEffect has a missing dependency: 'orderItems.length'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  react-hooks/exhaustive-deps

/Users/rajponkiya/Mantracode diamond/frontend/src/pages/Reports.jsx
  42:9  error    Error: Cannot access variable before it is declared

`loadData` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

  40 |
  41 |     useEffect(() => {
> 42 |         loadData();
     |         ^^^^^^^^ `loadData` accessed before it is declared
  43 |     }, [range, startDate, endDate]);
  44 |
  45 |     const loadData = async () => {

  43 |     }, [range, startDate, endDate]);
  44 |
> 45 |     const loadData = async () => {
     |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 46 |         try {
     | ^^^^^^^^^^^^^
> 47 |             const params = { range };
     …
     | ^^^^^^^^^^^^^
> 78 |         }
     | ^^^^^^^^^^^^^
> 79 |     };
     | ^^^^^^^ `loadData` is declared here
  80 |
  81 |     const handleExport = () => {
  82 |         // Convert reportData to CSV  react-hooks/immutability
  43:8  warning  React Hook useEffect has a missing dependency: 'loadData'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                react-hooks/exhaustive-deps

✖ 37 problems (30 errors, 7 warnings)

