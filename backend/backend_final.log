[dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
[dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
(node:19485) [SEQUELIZE0004] DeprecationWarning: A boolean value was passed to options.operatorsAliases. This is a no-op with v5 and should be removed.
(Use `node --trace-deprecation ...` to show where the warning was created)
Server is running on port 8080.
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='admins';
Executing (default): CREATE TABLE IF NOT EXISTS `admins` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `username` VARCHAR(255) NOT NULL UNIQUE, `password` VARCHAR(255) NOT NULL, `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`admins`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_admins_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='diamonds';
Executing (default): CREATE TABLE IF NOT EXISTS `diamonds` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `certificate` VARCHAR(255) NOT NULL UNIQUE, `shape` VARCHAR(255), `carat` DECIMAL(10,2), `color` VARCHAR(255), `clarity` VARCHAR(255), `cut` VARCHAR(255), `lab` VARCHAR(255), `polish` VARCHAR(255), `symmetry` VARCHAR(255), `fluorescence` VARCHAR(255), `crown_height` VARCHAR(255), `pavilion_depth` VARCHAR(255), `girdle_thickness` VARCHAR(255), `culet` VARCHAR(255), `total_depth_percent` VARCHAR(255), `table_percent` VARCHAR(255), `comments` TEXT, `inscription` VARCHAR(255), `price` DECIMAL(10,2) NOT NULL, `commission` DECIMAL(10,2) DEFAULT 0, `status` TEXT DEFAULT 'in_stock', `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`diamonds`)
Executing (default): PRAGMA INDEX_INFO(`sqlite_autoindex_diamonds_1`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='invoices';
Executing (default): CREATE TABLE IF NOT EXISTS `invoices` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `invoice_date` DATETIME, `customer_name` VARCHAR(255), `total_amount` DECIMAL(10,2), `total_profit` DECIMAL(10,2), `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL);
Executing (default): PRAGMA INDEX_LIST(`invoices`)
Executing (default): SELECT name FROM sqlite_master WHERE type='table' AND name='invoice_items';
Executing (default): CREATE TABLE IF NOT EXISTS `invoice_items` (`id` INTEGER PRIMARY KEY AUTOINCREMENT, `quantity` INTEGER DEFAULT 1, `sale_price` DECIMAL(10,2), `commission` DECIMAL(10,2) DEFAULT 0, `profit` DECIMAL(10,2), `createdAt` DATETIME NOT NULL, `updatedAt` DATETIME NOT NULL, `invoiceId` INTEGER REFERENCES `invoices` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `saleItemId` INTEGER REFERENCES `diamonds` (`id`) ON DELETE SET NULL ON UPDATE CASCADE, `diamondId` INTEGER REFERENCES `diamonds` (`id`) ON DELETE SET NULL ON UPDATE CASCADE);
Executing (default): PRAGMA INDEX_LIST(`invoice_items`)
Drop and re-sync db.
Executing (default): SELECT `id`, `username`, `password`, `createdAt`, `updatedAt` FROM `admins` AS `admin` WHERE `admin`.`username` = 'admin';
Executing (default): INSERT INTO `admins` (`id`,`username`,`password`,`createdAt`,`updatedAt`) VALUES (NULL,$1,$2,$3,$4);
Initial admin created
